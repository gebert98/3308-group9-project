<h1>{{recipe.name}}</h1>
<p>{{recipe.description}}</h1>
<h3>Ingredients:</h3>
<ul> 
  {{#each recipe.ingredients}}
    <li>{{this.quantity}} {{this.unit}} {{name}} </li>
  {{/each}}
</ul>

<h3>Instructions:</h3>
<p>{{recipe.instructions}}</p>

{{#if logged}}
<form method="post" action="/favorite">
  <input type="hidden" name="recipe_id" value={{recipe.id}}>
  <button type="submit" class="btn btn-success">
    {{#if favorited}}Saved{{else}}Add to Favorites{{/if}}
  </button>
</form>
{{else}}
<p><a href="/login">Log in</a> to save this recipe!</p>
{{/if}}

<h3> AI TEST BELOW </h3>

<button id="postButton">Send POST Request</button>

<script>
     document.getElementById('postButton').addEventListener('click', () => {
         const data = { recipe_id: {{recipe.id}} };

         fetch('https://localhost:3000/favorite', {
             method: 'POST',
             headers: {
                 'Content-Type': 'application/json',
             },
             body: JSON.stringify(data),
         })
         .then(response => {
             if (!response.ok) {
                 throw new Error('Network response was not ok ' + response.statusText);
             }
             return response.json(); // If expecting a JSON response
         })
         .then(data => {
             console.log('Success:', data);
         })
         .catch(error => {
             console.error('Error:', error);
         });
     });
 </script>


